"use strict";!function(e){e.fn.fullClip=function(t){var a,s,n=e.extend({current:0,images:[],transitionTime:1e3,wait:3e3,static:!1},t);for(a=0,s=n.images.length;a<s;++a)(new Image).src=n.images[a];return e(".fullBackground").css("background-image","url("+n.images[n.current]+")").css("-webkit-transition","background "+n.transitionTime+"s ease-in-out").css("-moz-transition","background "+n.transitionTime+"ms ease-in-out").css("-ms-transition","background "+n.transitionTime+"ms ease-in-out").css("-o-transition","background "+n.transitionTime+"ms ease-in-out").css("transition","background "+n.transitionTime+"ms ease-in-out"),n.static?void e(this).css("background-image","url("+n.images[n.current]+")"):void function t(){n.current=(n.current+1)%n.images.length,e(".fullBackground").css("background-image","url("+n.images[n.current]+")"),setTimeout(t,n.wait)}()}}(jQuery);var fadeSpeed,currentImageIndex=-1,imageIds=new Array,SCALING_MODE_NONE=0,SCALING_MODE_STRETCH=1,SCALING_MODE_COVER=2,SCALING_MODE_CONTAIN=3;function cycleToNextImage(){var e=imageIds[currentImageIndex];++currentImageIndex>=imageIds.length&&(currentImageIndex=0);var t={duration:fadeSpeed,queue:!1};$("#"+e).fadeOut(t),$("#"+imageIds[currentImageIndex]).fadeIn(t)}function addAnimate(){$(".header").addClass("fadeInUpBig"),$(".main__title").addClass("fadeInUpBig"),$(".main__subtitle").addClass("fadeInUpBig"),$(".main__line").addClass("fadeInUpBig"),$(".button__main").addClass("fadeInUpBig")}$.fn.backgroundCycle=function(e){var t=$.extend({imageUrls:[],duration:5e3,fadeSpeed:1e3,backgroundSize:SCALING_MODE_NONE},e);fadeSpeed=t.fadeSpeed;var a=this.css("margin-top"),s=this.css("margin-right"),n=this.css("margin-bottom"),i=this.css("margin-left");this.is("body")||this.css({position:"absolute"});var r=$(document.createElement("div")),o=this.children().detach();r.append(o),imageIds=new Array;for(var l=0;l<t.imageUrls.length;l++){var c,d="bgImage"+l,u=t.imageUrls[l],m=$(document.createElement("div"));switch(m.attr("id",d),m.attr("class","cycle-bg-image"),t.backgroundSize){default:c=t.backgroundSize;break;case SCALING_MODE_NONE:c="auto";break;case SCALING_MODE_STRETCH:c="100% 100%";break;case SCALING_MODE_COVER:c="cover";break;case SCALING_MODE_CONTAIN:c="contain"}m.css({"background-image":"url('"+u+"')","background-repeat":"no-repeat","background-size":c,"-moz-background-size":c,"-webkit-background-size":c,position:"absolute",left:i,top:a,right:s,bottom:n}),this.append(m),imageIds.push(d)}r.css({position:"absolute",left:i,top:a,right:s,bottom:n}),this.append(r),$(".cycle-bg-image").hide(),$("#"+imageIds[0]).show(),setInterval(cycleToNextImage,t.duration)},$(document).ready((function(){$(".slider").slick({fade:!0,waitForAnimate:!1,zIndex:100,infinite:!1,draggable:!1,responsive:[{breakpoint:577,settings:{arrows:!1,draggable:!0}}]}),$(".fullBackground").backgroundCycle({imageUrls:["assets/img/bg-main3.jpg","assets/img/bg-main1.jpg","assets/img/bg-main2.jpg"],fadeSpeed:2e3,duration:5e3,backgroundSize:SCALING_MODE_COVER}),$("#phone_order").inputmask({mask:"+ 7(999) 999-9999"}),$("#phone_callus").inputmask({mask:"+ 7(999) 999-9999"});var e=$(".nValid");e.hide(),$(".button__order").click((function(){var t=$("#name_order").val(),a=$("#mail_order").val(),s=$("#phone_order").val(),n=$("#message_order").val(),i="";if(""==t||t.length<3?i="Имя должно содержать более 3 символов":""==a||a.split("@").length-1==0||a.split(".").length-1==0?i='E-mail должен содержать "@" и "."':""==s||(""==n||n.length<10)&&(i="Сообщение должно быть больше 10 символов"),""!=i)return e.html(i+'<div class="nValid"></div>'),e.show(),!1;var r=$(".order__form");return e.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSend").css("display","flex")},data:r.serialize()}).done((function(){$(".befSend").text("Выполнено!"),setTimeout((function(){$(".befSend").css("display","none")}),300),setTimeout((function(){r.trigger("reset")}),500)})),!1}));var t=$(".nValidCall");t.hide(),$(".button__callus").click((function(){var e=$("#name_callus").val(),a=$("#phone_callus").val(),s="";if(""==e||e.length<3?s="Имя должно содержать более 3 символов":""==a&&(s="Телефон"),""!=s)return t.html(s+'<div class="nValidCall"></div>'),t.show(),!1;var n=$(".callus__form");return t.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSendMes").css("display","flex")},data:n.serialize()}).done((function(){setTimeout((function(){$(".befSendMes").css("display","none")}),300),setTimeout((function(){n.trigger("reset")}),500)})),!1}));var a=document.querySelectorAll(".point"),s=1;setInterval((function(){for(var e=0;e<a.length;e++)a[e].style.background="url('/assets/img/icons/main_point.svg')";a[s].style.background="url('/assets/img/icons/main_point-fill.svg')",++s>=3&&(s=0)}),5e3),$(".menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),a=$(t).offset().top;"#gallery"==t&&(a=$(t).offset().top+120),$("body,html").animate({scrollTop:a},1500)})),$(".footer__menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),a=$(t).offset().top;"#gallery"==t&&(a=$(t).offset().top+120),$("body,html").animate({scrollTop:a},1500)})),$(".button__main").on("click",(function(){var e=$("#order").offset().top;$("body,html").animate({scrollTop:e},1500)})),$(".button__footer").on("click",(function(){var e=$("#callus").offset().top;$("body,html").animate({scrollTop:e},1500)}));var n=document.querySelector(".types"),i=n.querySelectorAll("span"),r=document.querySelectorAll(".slider");$(".numbers-two").hide(),$(".numbers-three").hide(),n.onclick=function(e){if("SPAN"==e.target.nodeName){var t=e.target;window.innerWidth>577&&(1==t.dataset.type?($(".numbers").hide(),$(".numbers-one").show()):2==t.dataset.type?($(".numbers").hide(),$(".numbers-two").show()):($(".numbers").hide(),$(".numbers-three").show()));for(var a=0;a<i.length;a++)i[a].classList.remove("active__type"),"type__name"!=i[a].classList&&i[a].classList.add("type__name");t.classList.remove("type__name"),t.classList.add("active__type");for(var s=0;s<r.length;s++)r[s].hidden=!0,t.dataset.type==r[s].dataset.type&&(r[s].style.marginTop="38px",r[s].style.height="auto",r[s].style.overflowY="visible",r[s].hidden=!1)}};for(var o=$(".span__type"),l=document.querySelectorAll(".slick-arrow"),c=document.querySelectorAll(".start"),d=1,u=1,m=1,g=0;g<l.length;g++)l[g].onclick=function(e){if(e.target.classList.contains("slick-prev"))for(var t=0;t<o.length;t++)o[t].classList.contains("type__name")||1!=o[t].dataset.type?o[t].classList.contains("type__name")||2!=o[t].dataset.type?o[t].classList.contains("type__name")||3!=o[t].dataset.type||--m<1&&(m=1):--u<1&&(u=1):--d<1&&(d=1);else if(e.target.classList.contains("slick-next"))for(var a=0;a<o.length;a++)o[a].classList.contains("type__name")||1!=o[a].dataset.type?o[a].classList.contains("type__name")||2!=o[a].dataset.type?o[a].classList.contains("type__name")||3!=o[a].dataset.type||++m>21&&(m=21):++u>6&&(u=6):++d>3&&(d=3);c[0].textContent=d,c[1].textContent=u,c[2].textContent=m}})),$(".burger").click((function(){$(".menu").toggleClass("active_menu"),$(this).toggleClass("active_burger"),"hidden"==$("html").css("overflow")?$("html").css("overflow","auto"):$("html").css("overflow","hidden"),$(".main__wrap").toggleClass("hideBt"),$(".button__main").toggleClass("hideBt")})),$(".menu__link").click((function(){$(".burger").removeClass("active_burger"),$(".menu").removeClass("active_menu"),$("html").css("overflow","auto"),$(".main__wrap").removeClass("hideBt"),$(".button__main").removeClass("hideBt")})),window.onload=function(){NProgress.done(),$(".white").remove(),addAnimate(),$("body").css("overflow","auto"),$(".slider").get(0).slick.setPosition(),$(".slider-two").css("margin-top","0"),$(".slider-two").css("height",0),$(".slider-two").css("overflow-y","hidden"),$(".slider-three").css("margin-top","0"),$(".slider-three").css("height",0),$(".slider-three").css("overflow-y","hidden")};