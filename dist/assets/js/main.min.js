"use strict";!function(e){e.fn.fullClip=function(t){var n,a,s=e.extend({current:0,images:[],transitionTime:1e3,wait:3e3,static:!1},t);for(n=0,a=s.images.length;n<a;++n)(new Image).src=s.images[n];return e(".fullBackground").css("background-image","url("+s.images[s.current]+")").css("-webkit-transition","background "+s.transitionTime+"s ease-in-out").css("-moz-transition","background "+s.transitionTime+"ms ease-in-out").css("-ms-transition","background "+s.transitionTime+"ms ease-in-out").css("-o-transition","background "+s.transitionTime+"ms ease-in-out").css("transition","background "+s.transitionTime+"ms ease-in-out"),s.static?void e(this).css("background-image","url("+s.images[s.current]+")"):void function t(){s.current=(s.current+1)%s.images.length,e(".fullBackground").css("background-image","url("+s.images[s.current]+")"),setTimeout(t,s.wait)}()}}(jQuery);var fadeSpeed,currentImageIndex=-1,imageIds=new Array,SCALING_MODE_NONE=0,SCALING_MODE_STRETCH=1,SCALING_MODE_COVER=2,SCALING_MODE_CONTAIN=3;function cycleToNextImage(){var e=imageIds[currentImageIndex];++currentImageIndex>=imageIds.length&&(currentImageIndex=0);var t={duration:fadeSpeed,queue:!1};$("#"+e).fadeOut(t),$("#"+imageIds[currentImageIndex]).fadeIn(t)}function addAnimate(){$(".header").addClass("fadeInUpBig"),$(".main__title").addClass("fadeInUpBig"),$(".main__subtitle").addClass("fadeInUpBig"),$(".main__line").addClass("fadeInUpBig"),$(".button__main").addClass("fadeInUpBig")}$.fn.backgroundCycle=function(e){var t=$.extend({imageUrls:[],duration:5e3,fadeSpeed:1e3,backgroundSize:SCALING_MODE_NONE},e);fadeSpeed=t.fadeSpeed;var n=this.css("margin-top"),a=this.css("margin-right"),s=this.css("margin-bottom"),i=this.css("margin-left");this.is("body")||this.css({position:"absolute"});var r=$(document.createElement("div")),o=this.children().detach();r.append(o),imageIds=new Array;for(var l=0;l<t.imageUrls.length;l++){var c,d="bgImage"+l,u=t.imageUrls[l],m=$(document.createElement("div"));switch(m.attr("id",d),m.attr("class","cycle-bg-image"),t.backgroundSize){default:c=t.backgroundSize;break;case SCALING_MODE_NONE:c="auto";break;case SCALING_MODE_STRETCH:c="100% 100%";break;case SCALING_MODE_COVER:c="cover";break;case SCALING_MODE_CONTAIN:c="contain"}m.css({"background-image":"url('"+u+"')","background-repeat":"no-repeat","background-size":c,"-moz-background-size":c,"-webkit-background-size":c,position:"absolute",left:i,top:n,right:a,bottom:s}),this.append(m),imageIds.push(d)}r.css({position:"absolute",left:i,top:n,right:a,bottom:s}),this.append(r),$(".cycle-bg-image").hide(),$("#"+imageIds[0]).show(),setInterval(cycleToNextImage,t.duration)},$(document).ready((function(){$(".slider").slick({fade:!0,waitForAnimate:!1,zIndex:100,infinite:!1,draggable:!1,responsive:[{breakpoint:577,settings:{arrows:!1,draggable:!0}}]}),$(".fullBackground").backgroundCycle({imageUrls:["assets/img/bg-main3.jpg","assets/img/bg-main1.jpg","assets/img/bg-main2.jpg"],fadeSpeed:2e3,duration:5e3,backgroundSize:SCALING_MODE_COVER}),$("#phone_order").inputmask({mask:"+ 7(999) 999-9999"}),$("#phone_callus").inputmask({mask:"+ 7(999) 999-9999"});var e=$(".nValid");e.hide(),$(".button__order").click((function(){var t=$("#name_order").val(),n=$("#mail_order").val(),a=$("#phone_order").val(),s=$("#message_order").val(),i="";if(""==t||t.length<3?i="Имя должно содержать более 3 символов":""==n||n.split("@").length-1==0||n.split(".").length-1==0?i='E-mail должен содержать "@" и "."':""==a||(""==s||s.length<10)&&(i="Сообщение должно быть больше 10 символов"),""!=i)return e.html(i+'<div class="nValid"></div>'),e.show(),!1;var r=$(".order__form");return e.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSend").css("display","flex")},data:r.serialize()}).done((function(){$(".befSend").text("Выполнено!"),setTimeout((function(){$(".befSend").css("display","none")}),300),setTimeout((function(){r.trigger("reset")}),500)})),!1}));var t=$(".nValidCall");t.hide(),$(".button__callus").click((function(){var e=$("#name_callus").val(),n=$("#phone_callus").val(),a="";if(""==e||e.length<3?a="Имя должно содержать более 3 символов":""==n&&(a="Телефон"),""!=a)return t.html(a+'<div class="nValidCall"></div>'),t.show(),!1;var s=$(".callus__form");return t.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSendMes").css("display","flex")},data:s.serialize()}).done((function(){setTimeout((function(){$(".befSendMes").css("display","none")}),300),setTimeout((function(){s.trigger("reset")}),500)})),!1}));var n=document.querySelectorAll(".point"),a=1;setInterval((function(){for(var e=0;e<n.length;e++)n[e].style.background="url('/assets/img/icons/main_point.svg')";n[a].style.background="url('/assets/img/icons/main_point-fill.svg')",++a>=3&&(a=0)}),5e3),$(".menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(t).offset().top;"#gallery"==t&&(n=$(t).offset().top+120),$("body,html").animate({scrollTop:n},1500)})),$(".footer__menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(t).offset().top;"#gallery"==t&&(n=$(t).offset().top+120),$("body,html").animate({scrollTop:n},1500)})),$(".button__main").on("click",(function(){var e=$("#order").offset().top;$("body,html").animate({scrollTop:e},1500)})),$(".button__footer").on("click",(function(){var e=$("#callus").offset().top;$("body,html").animate({scrollTop:e},1500)}));var s=document.querySelector(".types"),i=s.querySelectorAll("span"),r=document.querySelectorAll(".slider");$(".numbers-two").hide(),$(".numbers-three").hide(),s.onclick=function(e){if("SPAN"==e.target.nodeName){var t=e.target;window.innerWidth>577&&(1==t.dataset.type?($(".numbers").hide(),$(".numbers-one").show()):2==t.dataset.type?($(".numbers").hide(),$(".numbers-two").show()):($(".numbers").hide(),$(".numbers-three").show()));for(var n=0;n<i.length;n++)i[n].classList.remove("active__type"),"type__name"!=i[n].classList&&i[n].classList.add("type__name");t.classList.remove("type__name"),t.classList.add("active__type");for(var a=0;a<r.length;a++)r[a].hidden=!0,t.dataset.type==r[a].dataset.type&&(r[a].style.marginTop="38px",r[a].style.height="auto",r[a].style.overflowY="visible",r[a].hidden=!1)}};var o=$(".span__type"),l=document.querySelectorAll(".slick-arrow"),c=document.querySelectorAll(".start"),d=document.querySelector(".numbers-one").querySelector(".end"),u=document.querySelector(".numbers-two").querySelector(".end"),m=document.querySelector(".numbers-three").querySelector(".end"),g=document.querySelector(".slider-one").querySelectorAll(".slider__item").length,f=document.querySelector(".slider-two").querySelectorAll(".slider__item").length,h=document.querySelector(".slider-three").querySelectorAll(".slider__item").length;d.textContent=g,u.textContent=f,m.textContent=h;for(var p=1,_=1,b=1,v=0;v<l.length;v++)l[v].onclick=function(e){if(e.target.classList.contains("slick-prev"))for(var t=0;t<o.length;t++)o[t].classList.contains("type__name")||1!=o[t].dataset.type?o[t].classList.contains("type__name")||2!=o[t].dataset.type?o[t].classList.contains("type__name")||3!=o[t].dataset.type||--b<1&&(b=1):--_<1&&(_=1):--p<1&&(p=1);else if(e.target.classList.contains("slick-next"))for(var n=0;n<o.length;n++)o[n].classList.contains("type__name")||1!=o[n].dataset.type?o[n].classList.contains("type__name")||2!=o[n].dataset.type?o[n].classList.contains("type__name")||3!=o[n].dataset.type||++b>m.innerHTML&&(b=m.innerHTML):++_>u.innerHTML&&(_=u.innerHTML):++p>d.innerHTML&&(p=d.innerHTML);c[0].textContent=p,c[1].textContent=_,c[2].textContent=b}})),$(".burger").click((function(){$(".menu").toggleClass("active_menu"),$(this).toggleClass("active_burger"),"hidden"==$("html").css("overflow")?$("html").css("overflow","auto"):$("html").css("overflow","hidden"),$(".main__wrap").toggleClass("hideBt"),$(".button__main").toggleClass("hideBt")})),$(".menu__link").click((function(){$(".burger").removeClass("active_burger"),$(".menu").removeClass("active_menu"),$("html").css("overflow","auto"),$(".main__wrap").removeClass("hideBt"),$(".button__main").removeClass("hideBt")})),window.onload=function(){NProgress.done(),$(".white").remove(),addAnimate(),$("body").css("overflow","auto"),$(".slider").get(0).slick.setPosition(),$(".slider-two").css("margin-top","0"),$(".slider-two").css("height",0),$(".slider-two").css("overflow-y","hidden"),$(".slider-three").css("margin-top","0"),$(".slider-three").css("height",0),$(".slider-three").css("overflow-y","hidden")};