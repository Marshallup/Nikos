"use strict";!function(e){e.fn.fullClip=function(t){var n,i,o=e.extend({current:0,images:[],transitionTime:1e3,wait:3e3,static:!1},t);for(n=0,i=o.images.length;n<i;++n)(new Image).src=o.images[n];return e(".fullBackground").css("background-image","url("+o.images[o.current]+")").css("-webkit-transition","background "+o.transitionTime+"s ease-in-out").css("-moz-transition","background "+o.transitionTime+"ms ease-in-out").css("-ms-transition","background "+o.transitionTime+"ms ease-in-out").css("-o-transition","background "+o.transitionTime+"ms ease-in-out").css("transition","background "+o.transitionTime+"ms ease-in-out"),o.static?void e(this).css("background-image","url("+o.images[o.current]+")"):void function t(){o.current=(o.current+1)%o.images.length,e(".fullBackground").css("background-image","url("+o.images[o.current]+")"),setTimeout(t,o.wait)}()}}(jQuery);var fadeSpeed,currentImageIndex=-1,imageIds=new Array,SCALING_MODE_NONE=0,SCALING_MODE_STRETCH=1,SCALING_MODE_COVER=2,SCALING_MODE_CONTAIN=3;function cycleToNextImage(){var e=imageIds[currentImageIndex];++currentImageIndex>=imageIds.length&&(currentImageIndex=0);var t={duration:fadeSpeed,queue:!1};$("#"+e).fadeOut(t),$("#"+imageIds[currentImageIndex]).fadeIn(t)}function addAnimate(){$(".header").addClass("fadeInUpBig"),$(".main__title").addClass("fadeInUpBig"),$(".main__subtitle").addClass("fadeInUpBig"),$(".main__line").addClass("fadeInUpBig"),$(".button__main").addClass("fadeInUpBig")}$.fn.backgroundCycle=function(e){var t=$.extend({imageUrls:[],duration:5e3,fadeSpeed:1e3,backgroundSize:SCALING_MODE_NONE},e);fadeSpeed=t.fadeSpeed;var n=this.css("margin-top"),i=this.css("margin-right"),o=this.css("margin-bottom"),a=this.css("margin-left");this.is("body")||this.css({position:"absolute"});var s=$(document.createElement("div")),r=this.children().detach();s.append(r),imageIds=new Array;for(var l=0;l<t.imageUrls.length;l++){var c,u="bgImage"+l,d=t.imageUrls[l],m=$(document.createElement("div"));switch(m.attr("id",u),m.attr("class","cycle-bg-image"),t.backgroundSize){default:c=t.backgroundSize;break;case SCALING_MODE_NONE:c="auto";break;case SCALING_MODE_STRETCH:c="100% 100%";break;case SCALING_MODE_COVER:c="cover";break;case SCALING_MODE_CONTAIN:c="contain"}m.css({"background-image":"url('"+d+"')","background-repeat":"no-repeat","background-size":c,"-moz-background-size":c,"-webkit-background-size":c,position:"absolute",left:a,top:n,right:i,bottom:o}),this.append(m),imageIds.push(u)}s.css({position:"absolute",left:a,top:n,right:i,bottom:o}),this.append(s),$(".cycle-bg-image").hide(),$("#"+imageIds[0]).show(),setInterval(cycleToNextImage,t.duration)},$(document).ready((function(){$(".slider").slick({fade:!0,waitForAnimate:!1,zIndex:100,infinite:!1,draggable:!1,swipe:!1,responsive:[{breakpoint:577,settings:{arrows:!1,draggable:!0,swipe:!0}}]}),$(".forgingsSlider__slider").slick({variableWidth:!0,infinite:!1,rows:2,slidesToShow:3,responsive:[{breakpoint:915,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}},{breakpoint:350,settings:{arrows:!1,slidesToShow:1}}]});var e=document.querySelector(".forgingsSlider__slider"),t=e.querySelectorAll("img"),n=document.querySelector(".forgingsSlider__modal"),i=document.querySelector(".forgingsSlider__img");!function(){for(var e=0,n=0;n<t.length;n++)21==e?t[n].setAttribute("data-img","assets/img/slider/pakovka20.jpg"):(t[n].setAttribute("data-img","assets/img/slider/pakovka".concat(e,".jpg")),e++)}(),n.style.display="none",e.onclick=function(e){if("IMG"==e.target.nodeName){var t=e.target;i.setAttribute("src","".concat(t.dataset.img)),n.style.display="flex",$("html").css("overflow","hidden")}},n.querySelector("SPAN").onclick=function(){n.style.display="none",$("html").css("overflow","auto")},n.onclick=function(){this.style.display="none",$("html").css("overflow","auto")},$(".fullBackground").backgroundCycle({imageUrls:["assets/img/bg-main3.jpg","assets/img/bg-main1.jpg","assets/img/bg-main2.jpg"],fadeSpeed:2e3,duration:5e3,backgroundSize:SCALING_MODE_COVER}),$("#phone_order").inputmask({mask:"+ 7(999) 999-9999"}),$("#phone_callus").inputmask({mask:"+ 7(999) 999-9999"});var o=$(".nValid");o.hide(),$(".button__order").click((function(){var e=$("#name_order").val(),t=$("#mail_order").val(),n=$("#phone_order").val(),i=$("#message_order").val(),a="";if(""==e||e.length<3?a="Имя должно содержать более 3 символов":""==t||t.split("@").length-1==0||t.split(".").length-1==0?a='E-mail должен содержать "@" и "."':""==n||(""==i||i.length<10)&&(a="Сообщение должно быть больше 10 символов"),""!=a)return o.html(a+'<div class="nValid"></div>'),o.show(),!1;var s=$(".order__form");return o.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSend").css("display","flex")},data:s.serialize()}).done((function(){$(".befSend").text("Выполнено!"),setTimeout((function(){$(".befSend").css("display","none")}),300),setTimeout((function(){s.trigger("reset")}),500)})),!1}));var a=$(".nValidCall");a.hide(),$(".button__callus").click((function(){var e=$("#name_callus").val(),t=$("#phone_callus").val(),n="";if(""==e||e.length<3?n="Имя должно содержать более 3 символов":""==t&&(n="Телефон"),""!=n)return a.html(n+'<div class="nValidCall"></div>'),a.show(),!1;var i=$(".callus__form");return a.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSendMes").css("display","flex")},data:i.serialize()}).done((function(){setTimeout((function(){$(".befSendMes").css("display","none")}),300),setTimeout((function(){i.trigger("reset")}),500)})),!1}));var s=document.querySelectorAll(".point"),r=1;setInterval((function(){for(var e=0;e<s.length;e++)s[e].style.background="url('/assets/img/icons/main_point.svg')";s[r].style.background="url('/assets/img/icons/main_point-fill.svg')",++r>=3&&(r=0)}),5e3),$(".menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(t).offset().top;"#gallery"==t&&(n=$(t).offset().top+120),$("body,html").animate({scrollTop:n},1500)})),$(".footer__menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(t).offset().top;"#gallery"==t&&(n=$(t).offset().top+120),$("body,html").animate({scrollTop:n},1500)})),$(".menu__stick_menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(t).offset().top;"#gallery"==t&&(n=$(t).offset().top+120),$("body,html").animate({scrollTop:n},1500)})),$(".button__main").on("click",(function(){var e=$("#order").offset().top;$("body,html").animate({scrollTop:e},1500)})),$(".button__footer").on("click",(function(){var e=$("#callus").offset().top;$("body,html").animate({scrollTop:e},1500)})),$(".button__main_menu").on("click",(function(){var e=$("#callus").offset().top;$("body,html").animate({scrollTop:e},3500)}));document.querySelectorAll(".slider");var l=document.querySelector(".slider-one").querySelectorAll(".slick-arrow"),c=document.querySelector(".start"),u=document.querySelector(".numbers-one").querySelector(".end"),d=document.querySelector(".slider-one").querySelectorAll(".slider__item").length,m=1;u.textContent=d;for(var g=0;g<l.length;g++)l[g].onclick=function(e){e.target.classList.contains("slick-prev")?--m<1&&(m=1):e.target.classList.contains("slick-next")&&++m>u.innerHTML&&(m=u.innerHTML),c.textContent=m};function f(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset,bottom:t.bottom+pageYOffset}}var _=document.querySelector(".menu__stick"),p=document.querySelector(".company"),b=document.querySelector(".gallery"),h=document.querySelector(".forgingsSlider");$(".menu__stick").fadeOut(),window.onscroll=function(){f(_).top>=f(b).top&&f(_).bottom<=f(b).bottom?$(".menu__stick").fadeOut(300):f(_).top>=f(h).top&&f(_).bottom<=f(h).bottom?$(".menu__stick").fadeOut(500):f(_).top>=f(p).top?$(".menu__stick").fadeIn(500):$(".menu__stick").fadeOut(300)}})),$(".burger").click((function(){$(".menu").toggleClass("active_menu"),$(this).toggleClass("active_burger"),"hidden"==$("html").css("overflow")?$("html").css("overflow","auto"):$("html").css("overflow","hidden"),$(".main__wrap").toggleClass("hideBt"),$(".button__main").toggleClass("hideBt")})),$(".menu__link").click((function(){$(".burger").removeClass("active_burger"),$(".menu").removeClass("active_menu"),$("html").css("overflow","auto"),$(".main__wrap").removeClass("hideBt"),$(".button__main").removeClass("hideBt")})),$(".menu__stick_burger").click((function(){$(this).toggleClass("menu__stick_burger_active"),$(".menu__stick_menu").toggleClass("menu__stick_menu_active"),$("html").toggleClass("lock"),$("body").toggleClass("lock"),$(".slick-active").css("z-index",1),$(".slider__item").css("z-index",1)})),$(".menu__stick_link").click((function(){$(".menu__stick_burger").removeClass("menu__stick_burger_active"),$(".menu__stick_menu").removeClass("menu__stick_menu_active"),$("html").removeClass("lock"),$("body").toggleClass("lock")})),window.onload=function(){NProgress.done(),$(".white").remove(),addAnimate(),$("body").css("overflow","auto")};