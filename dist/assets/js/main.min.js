"use strict";function addAnimate(){$(".header").addClass("fadeInUpBig"),$(".main__title").addClass("fadeInUpBig"),$(".main__subtitle").addClass("fadeInUpBig"),$(".main__line").addClass("fadeInUpBig"),$(".button__main").addClass("fadeInUpBig")}$(document).ready((function(){$(".fullBackground").slick({arrows:!1,dots:!0,fade:!0,autoplay:!0,pauseOnDotsHover:!1,pauseOnFocus:!1,speed:2e3,autoplaySpeed:2500,cssEase:"ease"}),$(".slider").slick({fade:!0,waitForAnimate:!1,centerMode:!0,zIndex:100,infinite:!1,draggable:!1,swipe:!1,responsive:[{breakpoint:577,settings:{draggable:!0,swipe:!0}}]}),$(".forgingsSlider__slider").slick({variableWidth:!0,infinite:!1,rows:2,slidesToShow:4,responsive:[{breakpoint:1355,settings:{slidesToShow:3,variableWidth:!1}},{breakpoint:985,settings:{slidesToShow:2}},{breakpoint:577,settings:{slidesToShow:1,slidesPerRow:1,variableWidth:!0}},{breakpoint:350,settings:{slidesToShow:1}}]});var e=document.querySelector(".forgingsSlider__slider"),t=e.querySelectorAll("img"),o=document.querySelector(".forgingsSlider__modal"),n=document.querySelector(".forgingsSlider__img");!function(){for(var e=0,o=0;o<t.length;o++)t[o].setAttribute("data-img","assets/img/slider/pakovka".concat(e,".jpg")),e++}(),o.style.display="none",e.onclick=function(e){if("IMG"==e.target.nodeName){var t=e.target;n.setAttribute("src","".concat(t.dataset.img)),o.style.display="flex",$("html").css("overflow","hidden")}},o.querySelector("SPAN").onclick=function(){o.style.display="none",$("html").css("overflow","auto")},o.onclick=function(){this.style.display="none",$("html").css("overflow","auto")},$("#phone_order").inputmask({mask:"+ 7(999) 999-9999"}),$("#phone_callus").inputmask({mask:"+ 7(999) 999-9999"});var i=$(".nValid");i.hide(),$(".button__order").click((function(){var e=$("#name_order").val(),t=$("#mail_order").val(),o=$("#phone_order").val(),n=$("#message_order").val(),s="";if(""==e||e.length<3?s="Имя должно содержать более 3 символов":""==t||t.split("@").length-1==0||t.split(".").length-1==0?s='E-mail должен содержать "@" и "."':""==o||(""==n||n.length<10)&&(s="Сообщение должно быть больше 10 символов"),""!=s)return i.html(s+'<div class="nValid"></div>'),i.show(),!1;var l=$(".order__form");return i.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSend").css("display","flex")},data:l.serialize()}).done((function(){$(".befSend").text("Выполнено!"),setTimeout((function(){$(".befSend").css("display","none")}),300),setTimeout((function(){l.trigger("reset")}),500)})),!1}));var s=$(".nValidCall");s.hide(),$(".button__callus").click((function(){var e=$("#name_callus").val(),t=$("#phone_callus").val(),o="";if(""==e||e.length<3?o="Имя должно содержать более 3 символов":""==t&&(o="Телефон"),""!=o)return s.html(o+'<div class="nValidCall"></div>'),s.show(),!1;var n=$(".callus__form");return s.hide(),$.ajax({type:"POST",url:"mail.php",cache:!1,beforeSend:function(){$(".befSendMes").css("display","flex")},data:n.serialize()}).done((function(){setTimeout((function(){$(".befSendMes").css("display","none")}),300),setTimeout((function(){n.trigger("reset")}),500)})),!1})),$(".menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),o=$(t).offset().top;"#gallery"==t&&(o=$(t).offset().top+120),$("body,html").animate({scrollTop:o},1500)})),$(".footer__menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),o=$(t).offset().top;"#gallery"==t&&(o=$(t).offset().top+120),$("body,html").animate({scrollTop:o},1500)})),$(".menu__stick_menu").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),o=$(t).offset().top;"#gallery"==t&&(o=$(t).offset().top+120),$("body,html").animate({scrollTop:o},1500)})),$(".button__main").on("click",(function(){var e=$("#order").offset().top;$("body,html").animate({scrollTop:e},1500)})),$(".button__footer").on("click",(function(){var e=$("#callus").offset().top;$("body,html").animate({scrollTop:e},1500)})),$(".button__main_menu").on("click",(function(){var e=$("#callus").offset().top;$("body,html").animate({scrollTop:e},3500)})),$(".button__stick").on("click",(function(){var e=$("#callus").offset().top;$("body,html").animate({scrollTop:e},1e3)}));var l=document.querySelector(".slider-one").querySelectorAll(".slick-arrow"),a=document.querySelector(".start"),r=document.querySelector(".numbers-one").querySelector(".end"),c=document.querySelector(".slider-one").querySelectorAll(".slider__item").length,u=1;r.textContent=c;for(var d=0;d<l.length;d++)l[d].onclick=function(e){e.target.classList.contains("slick-prev")?--u<1&&(u=1):e.target.classList.contains("slick-next")&&++u>r.innerHTML&&(u=r.innerHTML),a.textContent=u};function m(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset,bottom:t.bottom+pageYOffset}}var f=document.querySelector(".menu__stick"),_=document.querySelector(".company"),p=document.querySelector(".gallery"),g=document.querySelector(".forgingsSlider");$(".menu__stick").fadeOut(),window.onscroll=function(){m(f).top>=m(p).top&&m(f).bottom<=m(p).bottom?$(".menu__stick").fadeOut(300):m(f).top>=m(g).top&&m(f).bottom<=m(g).bottom?$(".menu__stick").fadeOut(500):m(f).top>=m(_).top?$(".menu__stick").fadeIn(500):$(".menu__stick").fadeOut(300)}})),$(".burger").click((function(){$(".menu").toggleClass("active_menu"),$(this).toggleClass("active_burger"),"hidden"==$("html").css("overflow")?$("html").css("overflow","auto"):$("html").css("overflow","hidden"),$(".main__wrap").toggleClass("hideBt"),$(".button__main").toggleClass("hideBt")})),$(".menu__link").click((function(){$(".burger").removeClass("active_burger"),$(".menu").removeClass("active_menu"),$("html").css("overflow","auto"),$(".main__wrap").removeClass("hideBt"),$(".button__main").removeClass("hideBt")})),$(".menu__stick_burger").click((function(){$(this).toggleClass("menu__stick_burger_active"),$(".menu__stick_menu").toggleClass("menu__stick_menu_active"),"hidden"==$("html").css("overflow")?$("html").css("overflow","auto"):$("html").css("overflow","hidden"),$(".slick-active").css("z-index",1),$(".slider__item").css("z-index",1)})),$(".menu__stick_link").click((function(){$(".menu__stick_burger").removeClass("menu__stick_burger_active"),$(".menu__stick_menu").removeClass("menu__stick_menu_active"),$("html").css("overflow","auto")})),window.onload=function(){NProgress.done(),$(".white").remove(),addAnimate(),$("body").css("overflow","auto")};